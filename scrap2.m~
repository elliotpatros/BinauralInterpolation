%% reset
clearvars;
addpath(genpath('.'));

%% user parameters
azim1 = 0;
elev1 = 0;
azim2 = 5;
elev2 = 0;

dur = 1;
gain = 1;
nIterations = 10;

%% load audio
% get HRIR's
[l1, r1, fs] = load_binaural(azim1, elev1);
[l2, r2] = load_binaural(azim2, elev2);

% make input and output signal
L = dur * fs;
x = make_noise(gain, L, 1);
y = zeros(L * nIterations, 2);

%% morph
weights = linspace(0, 1, nIterations);
for n = 1:nIterations
    weight = weights(n);
    block = (L * (n - 1) + 1):(L * n);
    
    new_l = do_morph(l1, l2, weight, fs);
    new_r = do_morph(r1, r2, weight, fs);
    
    

end;